<div class="gf-form-group">
    <div class="edit-tab-content">
        <div class="gf-form-group">
            <h5>Composites
                <tip>Combines multiple metrics into a new name</tip>
            </h5>
            <div class="gf-form-inline" ng-repeat="composite in ctrl.compositesManager.metricComposites">

                <div class="gf-form-inline">
                    <div class="gf-form">
                        <label class="gf-form-label">
                        <i class="fa fa-trash pointer" ng-click="ctrl.compositesManager.removeMetricComposite(composite)"></i>
                        </label>
                    </div>
                    <div class="gf-form">
                        <label class="gf-form-label width-9">Composite Name</label>
                    </div>
                    <div class="gf-form">
                        <input type="text" ng-model="composite.compositeName" ng-blur="ctrl.render()" class="gf-form-input width-16">
                    </div>

                    <gf-form-switch class="gf-form" label="Hide Members" label-class="width-8" checked="composite.hideMembers" on-change="ctrl.refresh()">
                    </gf-form-switch>
                    <gf-form-switch class="gf-form" label="Show Name" label-class="width-7" checked="composite.showName" on-change="ctrl.refresh()">
                    </gf-form-switch>
                    <gf-form-switch class="gf-form" label="Show Value" label-class="width-7" checked="composite.showValue" on-change="ctrl.refresh()">
                    </gf-form-switch>
                </div>

                <div class="gf-form-inline" style="margin-left: 31px;">
                    <div class="gf-form">
                        <label class="gf-form-label width-9">Animate Mode
                            <tip>how members are rendered</tip>
                        </label>
                    </div>
                    <div class="gf-form-select-wrapper">
                        <select class="gf-form-input width-16" style="margin-left: 3px;"
                            ng-model="composite.animateMode"
                            ng-options="f for f in ctrl.panel.animationModes"
			                ng-change="ctrl.refresh()">
			            </select>
		            </div>
                    <div class="gf-form">
                        <label class="gf-form-label width-3" style="margin-left: 3px;">URL</label>
                            <input type="text" ng-model="composite.clickThrough" ng-blur="ctrl.render()" class="gf-form-input width-30">
                        </div>
                </div>

                <div class="gf-form-inline" style="margin-left: 31px;">
                    <!-- Metrics that comprise the composite-->
                    <div class="gf-form">
                        <label class="gf-form-label width-9">Metrics
                            <tip>Select Metrics members for composite</tip>
                        </label>
                    </div>
                    <div class="gf-form-inline" ng-repeat="metric in composite.members">
                        <div class="gf-form" style="margin-left: 3px;">
                            <select ng-options="f for f in ctrl.compositesManager.suggestMetricNames()" ng-model="metric.seriesName" ng-change="ctrl.refresh()"></select>
                        </div>
                        <div class="gf-form">
                            <label class="gf-form-label">
                                <i class="fa fa-trash pointer" ng-click="ctrl.compositesManager.removeMetricFromComposite(composite, metric)"></i>
                            </label>
                        </div>
                    </div>
                    <div class="gf-form">
                        <label class="gf-form-label">
                            <i class="fa fa-plus pointer" ng-click="ctrl.compositesManager.addMetricToComposite(composite)"></i>
                        </label>
                    </div>
                </div>
            </div>

            <button class="btn btn-inverse" ng-click="ctrl.compositesManager.addMetricComposite()">
                <i class="fa fa-plus"></i>&nbsp;Add Composite
            </button>
        </div>
    </div>
</div>

